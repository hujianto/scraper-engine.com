{"name":"Scraper-engine","tagline":"Instant Build Scraper API","body":"#Scraper engine\r\n>complate solutions for build scraper API service, easy to use \r\n\r\nversion 8.0.0 \r\n\r\noutput.json and output.csv\r\n\r\n#tutorial\r\nhttps://youtu.be/j_PJkSVx7n4\r\n\r\n\r\nhttps://www.youtube.com/watch?v=HHP2NyEJq4w\r\n\r\n#How to install\r\n\r\n```\r\nnpm install scraper-engine\r\n```\r\ncreate app.js\r\n```\r\nvar port=4000;\r\nrequire('scraper-engine').start(__dirname,port);\r\n```\r\n\r\n```\r\n$ node app.js\r\nScraper Engine Started (port 4000)...\r\n```\r\nand open your browser\r\n\r\nhttp://localhost:4000/output.json?site=**controller**\r\n\r\n## example controller\r\n\r\nhttp://localhost:4000/output.json?site=olx\r\nor \r\nhttp://localhost:4000/output.csv?site=olx\r\n\r\nexample : Walmart Category controller\r\n\r\n```\r\nvar S = require('string');\r\nexports.scraper = {\r\n    name: 'OLX',\r\n    url: function (index) {\r\n        return \"http://www.walmart.com/browse/toys/action-figures/4171_4172_133130?page=\"+index+\"&cat_id=4171_4172_133130\"\r\n    },\r\n\tnext:function($,currentindex){\r\n\t\tif(currentindex>=5){\r\n\t\t\treturn false\r\n\t\t}else{\r\n\t\t\treturn true\r\n\t\t}\r\n\t},\r\n    rows: function ($) {\r\n        return $('.tile-grid-unit-wrapper');\r\n    },\r\n    fields: {\r\n        title: function ($) {\r\n            return S($.find('.tile-heading').text()).trim().s;\r\n        },\r\n        price: function ($) {\r\n            return S($.find('.tile-price').text().replace('$','')).trim().s;\r\n        },\r\n        image: function ($) {\r\n            return $.find('.product-image').attr('src');\r\n        },\r\n        urlproduct: function ($) {\r\n            return $.find('.js-product-title').attr('href');\r\n        }\r\n \r\n \r\n    }\r\n \r\n}\r\n```\r\n\r\nExample: Olx Controller\r\n```\r\nvar S = require('string');\r\nexports.scraper = {\r\n    name: 'OLX',\r\n    url: function () {\r\n        return \"http://olx.co.id/all-results/q-batu-bacan/\"\r\n    },\r\n    rows: function ($) {\r\n        return $('.offer');\r\n    },\r\n    fields: {\r\n        title: function ($) {\r\n            return S($.find('.link.linkWithHash').text()).trim().s;\r\n        },\r\n        price: function ($) {\r\n            return S($.find('.price').text()).trim().s;\r\n        },\r\n        image: function ($) {\r\n            return $.find('.linkWithHash img').attr('src');\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n#using request parameter\r\nExample: Olx Controller part 2 \r\n```\r\nvar S = require('string');\r\nvar keyword=\"\";\r\nexports.scraper = {\r\n    name: 'OLX-pass-url',\r\n    url: function () {\r\n        return \"http://olx.co.id/all-results/q-\"+keyword+\"/\"\r\n    },\r\n    setup:function(req){\r\n        keyword=req.query.keyword\r\n    },\r\n    rows: function ($) {\r\n        return $('.offer');\r\n    },\r\n    fields: {\r\n        title: function ($) {\r\n            return S($.find('.link.linkWithHash').text()).trim().s;\r\n        },\r\n        price: function ($) {\r\n            return S($.find('.price').text()).trim().s;\r\n        },\r\n        image: function ($) {\r\n            return $.find('.linkWithHash img').attr('src');\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n#scraping all pages detail\r\nExample: Olx Controller part 3\r\n```\r\nvar S = require('string');\r\nvar keyword=\"\";\r\nexports.scraper = {\r\n    name: 'OLX-all-pages',\r\n    url: function () {\r\n        return \"http://olx.co.id/all-results/q-\"+keyword+\"/\"\r\n    },\r\n    setup:function(req){\r\n        keyword=req.query.keyword\r\n    },\r\n    list: function ($) {\r\n        var urls=[];\r\n        $('.offer').each(function(){\r\n            ulrs.push($(this).find('.link.linkWithHash').attr('href'))\r\n        })\r\n        return urls;\r\n    },\r\n    fields: {\r\n        title: function ($) {\r\n            return $.find('.offerheadinner h1').text()\r\n        },\r\n        price: function ($) {\r\n            return $.find('.pricelabel strong').text()\r\n        },\r\n        seller: function ($) {\r\n            return $.find('.userdetails .brkword').text();\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n#Author\r\n##luklukaha@gmail.com\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}